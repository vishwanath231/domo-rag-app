Create a Personalized Data Permission (PDP) Policy
POST
https://api.domo.com
/v1/datasets/{dataset_id}/policies
Create a PDP policy for user and or group access to data within a DataSet.  Users and groups must exist before creating PDP policy.
The number of characters for the list of values for a single PDP policy, including a delimiter character for each value, must be less than 255 characters.
Request
Security: Bearer Auth
Path Parameters
dataset_id
string
required
Body
application/json
name
string
required
Name of the Policy
filters
array[object]
required
column
string
required
Name of the column to filter on
values
array[string]
required
Values to filter on
operator
string
required
Matching operator (EQUALS)
not
boolean
Determines if NOT is applied to the filter operation
users
array[integer]
List of user IDs the policy applies to
groups
array[integer]
List of group IDs the policy applies to
type
string
Type of policy (user or system)
Responses
201
Returns a subset of the DataSet object specific to the data permission policy.
Body
application/json
responses
/
201
id
integer
type
string
name
string
filters
array[object]
column
string
values
array[string]
operator
string
not
boolean
users
array[integer]
groups
array[object]
Auth
Token
:
Parameters
dataset_id*
:
Body
{
  "name": "Only Show Attendees",
  "filters": [
    {
      "column": "Attending",
      "values": [
        "TRUE"
      ],
      "operator": "EQUALS"
    }
  ],
  "users": [
    27
  ]
}
1
{
2
  "name": "Only Show Attendees",
3
  "filters": [
4
    {
5
      "column": "Attending",
6
      "values": [
7
        "TRUE"
8
      ],
9
      "operator": "EQUALS"
10
    }
11
  ],
12
  "users": [
13
    27
14
  ]
15
}
Send API Request
Request Sample: Shell / cURL
curl --request POST \
  --url https://api.domo.com/v1/datasets/dataset_id/policies \
  --header 'Accept: application/json' \
  --header 'Authorization: Bearer undefined' \
  --header 'Content-Type: application/json' \
  --data '{
  "name": "Only Show Attendees",
  "filters": [
    {
      "column": "Attending",
      "values": [
        "TRUE"
      ],
      "operator": "EQUALS"
    }
  ],
  "users": [
    27
  ]
}'
Response Example
1
{
2
  "id": 8,
3
  "type": "user",
4
  "name": "Only Show Attendees",
5
  "filters": [
6
    {
7
      "column": "Attending",
8
      "values": [
9
        "TRUE"
10
      ],
11
      "operator": "EQUALS",
12
      "not": false
13
    }
14
  ],
15
  "users": [
16
    27
17
  ],
18
  "groups": []
19
}