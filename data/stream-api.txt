Stream API
Export
v1.0
API Base URL
Domo API:https://api.domo.com
Security
Bearer Auth
Provide your bearer token in the Authorization header when making requests to protected resources.
Example: Authorization: Bearer 123
The Stream API allows you to automate the creation of new DataSets in your Domo Warehouse, featuring an accelerated upload Stream. A Domo Stream expedites uploads by dividing your data into parts, and uploading all of these parts simultaneously.
Best Practices
This API should be used to create and update massive, constantly changing, or rapidly growing DataSets. For creating and updating smaller DataSets that occasionally need data updated, leverage the DataSet API.
The Stream Object
Stream Attributes
PROPERTY NAME TYPE DESCRIPTION
id Number ID of the Stream
modifiedAt String An ISO-8601 representation of the time the Stream was last updated
updateMethod String The data import behavior
createdAt String An ISO-8601 representation of the create date of the Stream
Stream's DataSet Attributes
PROPERTY NAME TYPE DESCRIPTION
id String The UID of the DataSet associated to the Stream
name String The description of the DataSet associated to the Stream
description String The ID of the DataSet associated to the Stream
rows Number The number of rows in the DataSet
columns Number The number of columns in the DataSet's schema
owner_id Number The ID of the owner of the Stream's underlying DataSet
owner_name String The name of the owner of the Stream's underlying DataSet
pdpEnabled Boolean Indicates if PDP [Personalized Data Permission] policy filtering on data is active on this DataSet
Retrieve a Stream
GET
https://api.domo.com
/v1/streams/{STREAM_ID}
Retrieves the details of an existing stream.
Request
Security: Bearer Auth
Path Parameters
STREAM_ID
number
required
The ID of the Stream
Query Parameters
fields
string
Return desired fields: {all} or {id, dataset, updateMethod, createdAt, or modifiedAt}
Responses
200
Returns a Stream object if valid Stream ID was provided. When requesting, if the Stream ID is related to a DataSet that has been deleted, a subset of the Stream's information will be returned, including a deleted property, which will be true.
Body
application/json
responses
/
200
id
integer
dataSet
object
id
string
name
string
description
string
rows
integer
columns
integer
owner
object
createdAt
string
updatedAt
string
pdpEnabled
boolean
updateMethod
string
createdAt
string
modifiedAt
string
Auth
Token
:
Parameters
STREAM_ID*
:
fields
:
Send API Request
Request Sample: Shell / cURL
curl --request GET \
  --url https://api.domo.com/v1/streams/STREAM_ID \
  --header 'Accept: application/json' \
  --header 'Authorization: Bearer undefined'
Response Example
1
{
2
  "id": 42,
3
  "dataSet": {
4
    "id": "0c1e0dbe-9f71-4625-9b50-b79e6e4266f2",
5
    "name": "Leonhard Euler Party",
6
    "description": "Mathematician Guest List",
7
    "rows": 0,
8
    "columns": 0,
9
    "owner": {
10
      "id": 27,
11
      "name": "DomoSupport"
12
    },
13
    "createdAt": "2016-05-27T17:53:04Z",
14
    "updatedAt": "2016-05-26T21:03:35Z",
15
    "pdpEnabled": false
16
  },
17
  "updateMethod": "APPEND",
18
  "createdAt": "2016-05-26T21:03:35Z",
19
  "modifiedAt": "2016-05-26T21:03:35Z"
20
}
Update a Stream
PATCH
https://api.domo.com
/v1/streams/{STREAM_ID}
Updates the specified Stream’s metadata by providing values to parameters passed.
Request
Security: Bearer Auth
Path Parameters
STREAM_ID
number
required
The ID of the Stream
Query Parameters
updateMethod
string
required
The data import behavior
Body
application/json
updateMethod
string
Responses
200
Returns a full DataSet object of the Stream.
Body
application/json
responses
/
200
id
integer
dataSet
object
id
string
name
string
description
string
rows
integer
columns
integer
owner
object
createdAt
string
updatedAt
string
pdpEnabled
boolean
updateMethod
string
createdAt
string
modifiedAt
string
Auth
Token
:
Parameters
STREAM_ID*
:
updateMethod*
:
Body
{
  "updateMethod": "REPLACE"
}
1
{
2
  "updateMethod": "REPLACE"
3
}
Send API Request
Request Sample: Shell / cURL
curl --request PATCH \
  --url https://api.domo.com/v1/streams/STREAM_ID \
  --header 'Accept: application/json' \
  --header 'Authorization: Bearer undefined' \
  --header 'Content-Type: application/json' \
  --data '{
  "updateMethod": "REPLACE"
}'
Response Example
1
{
2
  "id": 42,
3
  "dataSet": {
4
    "id": "0c1e0dbe-9f71-4625-9b50-b79e6e4266f2",
5
    "name": "Leonhard Euler Party",
6
    "description": "Mathematician Guest List",
7
    "rows": 0,
8
    "columns": 0,
9
    "owner": {
10
      "id": 27,
11
      "name": "DomoSupport"
12
    },
13
    "createdAt": "2016-05-27T17:53:04Z",
14
    "updatedAt": "2016-05-27T17:53:10Z",
15
    "pdpEnabled": false
16
  },
17
  "updateMethod": "REPLACE",
18
  "createdAt": "2016-05-27T17:53:05Z",
19
  "modifiedAt": "2016-05-27T17:53:05Z"
20
}
Delete a Stream
DELETE
https://api.domo.com
/v1/streams/{STREAM_ID}
Deletes a Stream from your Domo instance. This does not a delete the associated DataSet.
Warning
This is destructive and cannot be reversed.
Request
Security: Bearer Auth
Path Parameters
STREAM_ID
number
required
The ID of the Stream
Responses
200
Returns a Stream object and parameter of success or error based on whether the Stream ID being valid.
Auth
Token
:
Parameters
STREAM_ID*
:
Send API Request
Request Sample: Shell / cURL
curl --request DELETE \
  --url https://api.domo.com/v1/streams/STREAM_ID \
  --header 'Authorization: Bearer undefined'
Create a Stream
POST
https://api.domo.com
/v1/streams
When creating a Stream, specify the DataSet properties (name and description) and as a convenience, the create Stream API will create a DataSet for you.
Streams support both append and replace import methods, as well as Upsert. In order to create an Upsert dataset you must specify the Upsert key column(s) in keyColumnNames and set updateMethod to APPEND.
Known Limitation
The StreamAPI currently only allows you to import data to a DataSet created via the Stream API. For example, it is currently not supported to import data to a DataSet created by a Domo Connector.
Request
Security: Bearer Auth
Body
application/json
dataSet
object
required
The Dataset object to be created with the Stream
name
string
description
string
schema
object
updateMethod
string
The data import behavior: "APPEND" or "REPLACE"
keyColumnNames
array[string]
keyColumnNames defines the upsert key for upsert Datasets.
Responses
200
Returns a DataSet object when successful. The returned object will have DataSet attributes based on the information that was provided when DataSet was created from the Stream created.
Body
application/json
responses
/
200
id
integer
dataSet
object
id
string
name
string
description
string
rows
integer
columns
integer
owner
object
createdAt
string
updatedAt
string
pdpEnabled
boolean
updateMethod
string
createdAt
string
modifiedAt
string
Auth
Token
:
Body
{
  "dataSet": {
    "name": "Leonhard Euler Party",
    "description": "Mathematician Guest List",
    "schema": {
      "columns": [
        {
          "type": "STRING",
          "name": "Friend"
        },
        {
          "type": "STRING",
          "name": "Attending"
        }
      ]
    }
  },
  "updateMethod": "APPEND"
}
1
{
2
  "dataSet": {
3
    "name": "Leonhard Euler Party",
4
    "description": "Mathematician Guest List",
5
    "schema": {
6
      "columns": [
7
        {
8
          "type": "STRING",
9
          "name": "Friend"
10
        },
11
        {
12
          "type": "STRING",
13
          "name": "Attending"
14
        }
15
      ]
16
    }
17
  },
18
  "updateMethod": "APPEND"
19
}
Send API Request
Request Sample: Shell / cURL
curl --request POST \
  --url https://api.domo.com/v1/streams \
  --header 'Accept: application/json' \
  --header 'Authorization: Bearer undefined' \
  --header 'Content-Type: application/json' \
  --data '{
  "dataSet": {
    "name": "Leonhard Euler Party",
    "description": "Mathematician Guest List",
    "schema": {
      "columns": [
        {
          "type": "STRING",
          "name": "Friend"
        },
        {
          "type": "STRING",
          "name": "Attending"
        }
      ]
    }
  },
  "updateMethod": "APPEND"
}'
Response Example
1
{
2
  "id": 42,
3
  "dataSet": {
4
    "id": "0c1e0dbe-9f71-4625-9b50-b79e6e4266f2",
5
    "name": "Leonhard Euler Party",
6
    "description": "Mathematician Guest List",
7
    "rows": 0,
8
    "columns": 0,
9
    "owner": {
10
      "id": 27,
11
      "name": "DomoSupport"
12
    },
13
    "createdAt": "2016-05-27T17:53:04Z",
14
    "updatedAt": "2016-05-27T17:53:10Z",
15
    "pdpEnabled": false
16
  },
17
  "updateMethod": "APPEND",
18
  "createdAt": "2016-05-27T17:53:05Z",
19
  "modifiedAt": "2016-05-27T17:53:05Z"
20
}
List Streams
GET
https://api.domo.com
/v1/streams
Get a list of all Streams for which the user has view permissions.
Request
Security: Bearer Auth
Query Parameters
limit
number
The amount of Stream to return in the list. The default is 50 and the maximum is 500.
offset
number
The offset of the Stream ID to begin list of users within the response.
Responses
200
Returns all Stream objects that meet argument criteria from original request.
Body
application/json
responses
/
200
array of:
id
integer
dataSet
object
id
string
pdpEnabled
boolean
updateMethod
string
createdAt
string
modifiedAt
string
Auth
Token
:
Parameters
limit
:
offset
:
Send API Request
Request Sample: Shell / cURL
curl --request GET \
  --url https://api.domo.com/v1/streams \
  --header 'Accept: application/json' \
  --header 'Authorization: Bearer undefined'
Response Example
1
[
2
  {
3
    "id": 1,
4
    "dataSet": {
5
      "id": "0c1e0dbe-9f71-4625-9b50-b79e6e4266f2",
6
      "pdpEnabled": false
7
    },
8
    "updateMethod": "APPEND",
9
    "createdAt": "2016-05-26T21:03:35Z",
10
    "modifiedAt": "2016-05-26T21:03:35Z"
11
  }
12
]
Search Streams
GET
https://api.domo.com
/v1/streams/search
Returns all Stream objects that meet argument criteria from original request.
Request
Security: Bearer Auth
Query Parameters
q
string
required
The search qualifiers to search by available qualifiers: dataSource.id or dataSource.owner.id
Example:
q=dataSource.id:1831cadd-9426-4dc0-ae02-cf2a0a89e70f
fields
string
Return desired fields: {all} or {id, dataset, updateMethod, createdAt, or modifiedAt}
Responses
200
Returns all Stream objects that meet argument criteria from original request.
Body
application/json
responses
/
200
array of:
id
integer
dataSet
object
id
string
pdpEnabled
boolean
updateMethod
string
createdAt
string
modifiedAt
string
Auth
Token
:
Parameters
q*
:
fields
:
Send API Request
Request Sample: Shell / cURL
curl --request GET \
  --url https://api.domo.com/v1/streams/search \
  --header 'Accept: application/json' \
  --header 'Authorization: Bearer undefined'
Response Example
1
[
2
  {
3
    "id": 42,
4
    "dataSet": {
5
      "id": "0c1e0dbe-9f71-4625-9b50-b79e6e4266f2",
6
      "pdpEnabled": false
7
    },
8
    "updateMethod": "APPEND",
9
    "createdAt": "2016-05-26T21:03:35Z",
10
    "modifiedAt": "2016-05-26T21:03:35Z"
11
  }
12
]
Retrieve a Stream execution
GET
https://api.domo.com
/v1/streams/{STREAM_ID}/executions/{EXECUTION_ID}
Import data into a DataSet in your Domo instance. This request will replace the data currently in the DataSet.
Known Limitation
The only supported content type is currently CSV format.
Best Practice
To upload data in CSV format, the Domo specification used for representing data grids in CSV format closely follows the RFC standard for CSV (RFC-4180). For more details on correct CSV formatting, click here.
Request
Security: Bearer Auth
Path Parameters
EXECUTION_ID
number
required
The ID of the Stream execution within the Stream
STREAM_ID
number
required
The ID of the Stream of data being imported into a DataSet
Responses
200
Returns a subset fields of a Stream's object.
Body
application/json
responses
/
200
id
integer
startedAt
string
currentState
string
createdAt
string
modifiedAt
string
Auth
Token
:
Parameters
EXECUTION_ID*
:
STREAM_ID*
:
Send API Request
Request Sample: Shell / cURL
curl --request GET \
  --url https://api.domo.com/v1/streams/STREAM_ID/executions/EXECUTION_ID \
  --header 'Accept: application/json' \
  --header 'Authorization: Bearer undefined'
Response Example
1
{
2
  "id": 1,
3
  "startedAt": "2016-05-26T22:20:21Z",
4
  "currentState": "ACTIVE",
5
  "createdAt": "2016-05-26T22:20:21Z",
6
  "modifiedAt": "2016-05-26T22:20:21Z"
7
}
Create a Stream execution
POST
https://api.domo.com
/v1/streams/{STREAM_ID}/executions
When you’re ready to upload data to your DataSet via a Stream, you first tell Domo that you’re ready to start sending data by creating an Execution.
Request
Security: Bearer Auth
Path Parameters
STREAM_ID
number
required
The ID of the Stream
Responses
200
Returns a subset of the stream object.
Body
application/json
responses
/
200
id
integer
startedAt
string
currentState
string
createdAt
string
modifiedAt
string
Auth
Token
:
Parameters
STREAM_ID*
:
Send API Request
Request Sample: Shell / cURL
curl --request POST \
  --url https://api.domo.com/v1/streams/STREAM_ID/executions \
  --header 'Accept: application/json' \
  --header 'Authorization: Bearer undefined' \
  --header 'Content-Type: application/json'
Response Example
1
{
2
  "id": 1,
3
  "startedAt": "2016-05-26T22:20:21Z",
4
  "currentState": "ACTIVE",
5
  "createdAt": "2016-05-26T22:20:21Z",
6
  "modifiedAt": "2016-05-26T22:20:21Z"
7
}
List Stream executions
GET
https://api.domo.com
/v1/streams/{STREAM_ID}/executions
Returns all Stream Execution objects that meet argument criteria from original request.
Request
Security: Bearer Auth
Path Parameters
STREAM_ID
number
required
The ID of the Stream
Query Parameters
limit
number
The amount of Stream to return in the list. The default is 50 and the maximum is 500.
offset
number
The offset of the Stream ID to begin list of users within the response.
Responses
200
Returns a subset of the Stream execution object from the specified Stream.
Body
application/json
responses
/
200
array of:
id
integer
startedAt
string
currentState
string
createdAt
string
modifiedAt
string
Auth
Token
:
Parameters
STREAM_ID*
:
limit
:
offset
:
Send API Request
Request Sample: Shell / cURL
curl --request GET \
  --url https://api.domo.com/v1/streams/STREAM_ID/executions \
  --header 'Accept: application/json' \
  --header 'Authorization: Bearer undefined'
Response Example
1
[
2
  {
3
    "id": 1,
4
    "startedAt": "2016-05-26T22:20:21Z",
5
    "currentState": "ACTIVE",
6
    "createdAt": "2016-05-26T22:20:21Z",
7
    "modifiedAt": "2016-05-26T22:20:21Z"
8
  }
9
]
Upload a data part
PUT
https://api.domo.com
/v1/streams/{STREAM_ID}/executions/{EXECUTION_ID}/part/{PART_ID}
Creates a data part within the Stream execution to upload chunks of rows to the DataSet. The calling client should keep track of parts and order them accordingly in an increasing sequence. If a part upload fails, retry the upload as all parts must be present before committing the stream execution.
Best Practice
Parts can be uploaded simultaneously in separate threads assuming that each part has a distinct part ID and is ordered correctly. To reduce upload time, compress each data as a gzip file (application/gzip).
Request
Security: Bearer Auth
Path Parameters
EXECUTION_ID
number
required
The ID of the Stream execution within the Stream
PART_ID
number
required
The ID of the data part being used to upload a subset of data within the Stream execution
STREAM_ID
number
required
The ID of the Stream of data being imported into a DataSet
Responses
200
Returns a subset of a stream object and a parameter of success or error based on whether the data part within the stream execution being successful.
Body
application/json
responses
/
200
id
integer
startedAt
string
currentState
string
createdAt
string
modifiedAt
string
Auth
Token
:
Parameters
EXECUTION_ID*
:
PART_ID*
:
STREAM_ID*
:
Send API Request
Request Sample: Shell / cURL
curl --request PUT \
  --url https://api.domo.com/v1/streams/STREAM_ID/executions/EXECUTION_ID/part/PART_ID \
  --header 'Accept: application/json' \
  --header 'Authorization: Bearer undefined' \
  --header 'Content-Type: application/json'
Response Example
1
{
2
  "id": 1,
3
  "startedAt": "2016-06-16T17:54:02Z",
4
  "currentState": "ACTIVE",
5
  "createdAt": "2016-06-16T17:54:01Z",
6
  "modifiedAt": "2016-06-16T17:54:02Z"
7
}
Commit a Stream execution
PUT
https://api.domo.com
/v1/streams/{STREAM_ID}/executions/{EXECUTION_ID}/commit
Commits stream execution to import combined set of data parts that have been successfully uploaded.
Known Limitation
By default, the Stream API only supports the ability to execute a commit every 15 minutes. For valid use cases, contact Domo Support if you would like to execute commits more frequently than 15 minutes.
Request
Security: Bearer Auth
Path Parameters
EXECUTION_ID
number
required
The ID of the Stream execution within the Stream
STREAM_ID
number
required
The ID of the Stream of data being imported into a DataSet
Responses
200
Returns a subset of a stream object and a parameter of success or error based on whether the stream execution successfully committed to Domo.
Body
application/json
responses
/
200
id
integer
startedAt
string
currentState
string
createdAt
string
modifiedAt
string
Auth
Token
:
Parameters
EXECUTION_ID*
:
STREAM_ID*
:
Send API Request
Request Sample: Shell / cURL
curl --request PUT \
  --url https://api.domo.com/v1/streams/STREAM_ID/executions/EXECUTION_ID/commit \
  --header 'Accept: application/json' \
  --header 'Authorization: Bearer undefined' \
  --header 'Content-Type: application/json'
Response Example
1
{
2
  "id": 1,
3
  "startedAt": "2016-05-27T15:16:01Z",
4
  "currentState": "ACTIVE",
5
  "createdAt": "2016-05-27T15:15:59Z",
6
  "modifiedAt": "2016-05-27T15:15:59Z"
7
}
Abort a Stream execution
PUT
https://api.domo.com
/v1/streams/{STREAM_ID}/executions/{EXECUTION_ID}/abort
If needed during an execution, aborts an entire Stream execution.
Best Practice
To abort the current stream execution within a Stream, simply identify the Stream’s ID within request
Request
Security: Bearer Auth
Path Parameters
EXECUTION_ID
number
required
The ID of the Stream execution within the Stream, if no Stream execution ID is provided, the current Stream execution will be aborted
STREAM_ID
number
required
The ID of the Stream of data being imported into a DataSet
Responses
200
Returns a parameter of success or error based on whether the Stream ID being valid.
Auth
Token
:
Parameters
EXECUTION_ID*
:
STREAM_ID*
:
Send API Request
Request Sample: Shell / cURL
curl --request PUT \
  --url https://api.domo.com/v1/streams/STREAM_ID/executions/EXECUTION_ID/abort \
  --header 'Authorization: Bearer undefined' \
  --header 'Content-Type: application/json'
