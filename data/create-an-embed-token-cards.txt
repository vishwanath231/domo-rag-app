Create an embed token (Cards)
POST
https://api.domo.com
/v1/cards/embed/auth
Request
Security: Bearer Auth
Body
application/json
Sample Filter Objects
Filter by column "Count" for values that are greater than the value 5.
[{"column": "Count", "operator": "GREATER_THAN", "values": ["4"]}]
Filter by column "Date" for values between the following dates: "2020-01-15" and "2020-01-21".
[{"column":"Date","operand":"BETWEEN","values":["2020-01-15","2020-01-21"]}]
Filter by column "State" for values that are one of the following: "California", "New York", or "Ohio".
[{"column":"State","operand":"IN","values":["California", "New York", "Ohio"]}]
sessionLength
integer
The amount of minutes the session will be valid for. If a value is not specified here and a customer has specified a customer session idle length, then that number will be used instead. If a customer has not specified a session idle length, then a default value of 8 hours is used. The value specified here in the api cannot be greater than the customer sessions idle length if one has been set or if one hasn't been set, the value cannot be greater than the default value of 8 hours.
authorizations
array[object]
required
A list of embed authorization objects
token
string
required
The embed token associated with the embedded content.
permissions
array[string]
required
A list of permissions associated with this embedded token. The following values should always be used "READ", "FILTER", "EXPORT".
filters
array[object]
A list of filter objects to be applied to the embedded content when viewed.
Responses
200
Returns a DataSet object when successful. The returned object will have DataSet attributes based on the information that was provided when DataSet was created from the Stream created.
Body
application/json
responses
/
200
authentication
string
Auth
Token
:
Body
{
  "sessionLength": 1440,
  "authorizations": [
    {
      "token": "bc36f",
      "permissions": [
        "READ",
        "FILTER",
        "EXPORT"
      ],
      "filters": [
        {
          "column": "State",
          "operator": "IN",
          "values": [
            "California",
            "New York",
            "Ohio"
          ]
        }
      ]
    }
  ]
}
1
{
2
  "sessionLength": 1440,
3
  "authorizations": [
4
    {
5
      "token": "bc36f",
6
      "permissions": [
7
        "READ",
8
        "FILTER",
9
        "EXPORT"
10
      ],
11
      "filters": [
12
        {
13
          "column": "State",
14
          "operator": "IN",
15
          "values": [
16
            "California",
17
            "New York",
18
            "Ohio"
19
          ]
20
        }
21
      ]
22
    }
23
  ]
24
}
Send API Request
Request Sample: Shell / cURL
curl --request POST \
  --url https://api.domo.com/v1/cards/embed/auth \
  --header 'Accept: application/json' \
  --header 'Authorization: Bearer undefined' \
  --header 'Content-Type: application/json' \
  --data '{
  "sessionLength": 1440,
  "authorizations": [
    {
      "token": "bc36f",
      "permissions": [
        "READ",
        "FILTER",
        "EXPORT"
      ],
      "filters": [
        {
          "column": "State",
          "operator": "IN",
          "values": [
            "California",
            "New York",
            "Ohio"
          ]
        }
      ]
    }
  ]
}'
Response Example
1
{
2
  "authentication": "thisisafakeauthenticationhbGciOiJIUzI1NiJ9.eyJzdWIiOiI0MDAxOTY1NCIsIm5iZiI6MTU3OTY0NjE2NCwiaXNzIjoiYXB2F0ZXdheSIsImVtYiI6WyJ7XCJ0b2tlblwiOlwiYnFvN2VcIixcImxpbmtUeXBlXCI6XCJTRUFSQ0hBQkxFXCIsXCJwZXJtaXNzaW9uc1wiOltcIlJFQURcIl19Il0sII6MTU3OTY3NDk3NCwiaWF0Ir5h3joxNTc5NjQ2MTc0LCJqdGkiOiI3MTBwODRmMy094n2S3FmLTRjZWUtYTczZC00ZmNjMWU4OTViZmQifQ.ET0s7o49vLvj2MUwOALfayR7_vzEIMn5TRoTjq3TPo"
3
}